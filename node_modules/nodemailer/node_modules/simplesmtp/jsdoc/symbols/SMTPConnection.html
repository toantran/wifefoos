
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		<title>SMTPConnection | JsDoc Reference</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
		<meta name="mobileoptimized" content="0" />
	
		<link rel="stylesheet" href="../css/all.css" media="all" />
		<link rel="stylesheet" href="../css/handheld.css" media="only screen and (max-width: 660px)" />
		<link rel="stylesheet" href="../css/handheld.css" media="handheld" />
		<link rel="stylesheet" href="../css/screen.css" media="screen and (min-width: 661px)" />

		<script src="../javascript/all.js"></script>
		<!--[if lt IE 9]>
			<script src="../javascript/html5.js"></script>
		<![endif]-->
	</head>

	<body>

<div class="index">
	<div class="menu">
		<div class="indexLinks">
			<a href="../index.html">Classes</a>
			<a href="../files.html">Files</a>
		</div>
	
		<h2 class="heading1">Classes</h2>
		
		<input type="text" name="classFilter" class="classFilter" id="ClassFilter" placeholder="Filter"></input>
		
		<nav>
			<ul class="classList" id="ClassList">
				
					<li><a href="../symbols/_global_.html">_global_</a></li>
				
					<li><a href="../symbols/SMTPConnection.html">SMTPConnection</a></li>
				
					<li><a href="../symbols/SMTPServer.html">SMTPServer</a></li>
				
					<li><a href="../symbols/starttls.html">starttls</a></li>
				
			</ul>
		</nav>
	</div>
	<div class="fineprint" style="clear:both">
		<footer>
			
			Documentation generator: <a href="http://code.google.com/p/jsdoc-toolkit/" target="_blank">JsDoc Toolkit</a> 2.4.0<br />
			Template: <a href="http://www.thebrightlines.com/2010/05/06/new-template-for-jsdoctoolkit-codeview/" target="_blank">Codeview</a> 1.2<br />
			Generated on:
			<time datetime='2012-1-2' pubdate>2012-1-2 12:06</time>
		</footer>
	</div>
</div>

<div class="index indexStatic"></div>

<div class="content">
	<div class="innerContent">
		<article>
			<header>
				<h1 class="classTitle">
					
					Class <span>SMTPConnection</span>
				</h1>
				
				<div class="intro">
					<p class="description summary">
						
					</p>
						
					
						<ul class="summary">
							
							
							
								<li>Defined in: <a href="../symbols/src/SMTP_lib_server.js.html">server.js</a></li>
							
							
						</ul>
					
				</div>
			</header>
			
			
				<section>
					<div class="props">
						<table class="summaryTable" cellspacing="0" summary="A summary of the constructor documented in the class SMTPConnection.">
							<caption class="sectionTitle">Class Summary</caption>
							<thead>
								<tr>
									<th scope="col">Constructor Attributes</th>
									<th scope="col">Constructor Name and Description</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td class="attributes">&nbsp;</td>
									<td class="nameDescription" >
										<div class="fixedFont">
											<b><a href="../symbols/SMTPConnection.html#constructor">SMTPConnection</a></b>(server, client)
										</div>
										<div class="description"><p>Sets up a handler for the connected client</p>

<p>Restarts the state and sets up event listeners for client actions</p></div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</section>
			
			
			
				
				<section>
					
						<nav>
							<div class="props">
								<table class="summaryTable" cellspacing="0" summary="A summary of the fields documented in the class SMTPConnection.">
									<caption class="sectionTitle">Field Summary</caption>
									
									<thead>
										<tr>
											<th scope="col">Field Attributes</th>
											<th scope="col">Field Name and Description</th>
										</tr>
									</thead>
									
									<tbody>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#_connectionTimeout">_connectionTimeout</a></b>
													</div>
													<div class="description">Timeout for the connection</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#_currentAction">_currentAction</a></b>
													</div>
													<div class="description">Function to run if a data chunk comes from the server</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#_dataMode">_dataMode</a></b>
													</div>
													<div class="description">Currently in data transfer state</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#_ignoreData">_ignoreData</a></b>
													</div>
													<div class="description">Ignore incoming data on TLS negotiation</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#_lastDataBytes">_lastDataBytes</a></b>
													</div>
													<div class="description">Keep track if the client sends a leading \r\n in data mode</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#_secureMode">_secureMode</a></b>
													</div>
													<div class="description">Defines if the current connection is secure or not.</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#_supportedAuth">_supportedAuth</a></b>
													</div>
													<div class="description">Lists supported auth mechanisms</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#destroyed">destroyed</a></b>
													</div>
													<div class="description">If set to true, then this object is no longer active</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont">
													<b><a href="../symbols/SMTPConnection.html#socket">socket</a></b>
													</div>
													<div class="description">The socket connecting to the server</div>
												</td>
											</tr>
										
									</tbody>
								</table>
							</div>
						</nav>
					
					
					
				</section>
			
	<!--
	#### METHODS SUMMARY
	-->
			
				<section>
					
					
					<div class="props">
						<h2 class="sectionTitle">Method Summary</h2>
						
						
							<nav>
								<table class="summaryTable" id="MethodsList" cellspacing="0" summary="A summary of the methods documented in the class SMTPConnection.">
									<thead>
										<tr>
											<th scope="col">Method Attributes</th>
											<th scope="col">Method Name and Description</th>
										</tr>
									</thead>
									
									<tbody>
										
										
											<tr
												 class='item0'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionAUTH_LOGIN_PASS">_actionAUTH_LOGIN_PASS</a></b>(str)
													</div>
													<div class="description"><p>Handle the response for AUTH LOGIN command.</div>
												</td>
											</tr>
										
											<tr
												 class='item1'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionAUTH_LOGIN_USER">_actionAUTH_LOGIN_USER</a></b>(str)
													</div>
													<div class="description"><p>Handle the response for AUTH LOGIN command.</div>
												</td>
											</tr>
										
											<tr
												 class='item2'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionAUTHComplete">_actionAUTHComplete</a></b>(str)
													</div>
													<div class="description"><p>Handles the response for authentication, if there's no error,
the user can be considered logged in.</div>
												</td>
											</tr>
										
											<tr
												 class='item3'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionDATA">_actionDATA</a></b>(str)
													</div>
													<div class="description"><p>Handle response for a <code>DATA</code> command</p></div>
												</td>
											</tr>
										
											<tr
												 class='item4'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionEHLO">_actionEHLO</a></b>(str)
													</div>
													<div class="description"><p>Handles server response for EHLO command.</div>
												</td>
											</tr>
										
											<tr
												 class='item5'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionGreeting">_actionGreeting</a></b>(str)
													</div>
													<div class="description"><p>Will be run after the connection is created and the server sends
a greeting.</div>
												</td>
											</tr>
										
											<tr
												 class='item6'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionHELO">_actionHELO</a></b>(str)
													</div>
													<div class="description"><p>Handles server response for HELO command.</div>
												</td>
											</tr>
										
											<tr
												 class='item7'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionIdle">_actionIdle</a></b>(str)
													</div>
													<div class="description"><p>This function is not expected to run.</div>
												</td>
											</tr>
										
											<tr
												 class='item8'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionMAIL">_actionMAIL</a></b>(str)
													</div>
													<div class="description"><p>Handle response for a <code>MAIL FROM:</code> command</p></div>
												</td>
											</tr>
										
											<tr
												 class='item9'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionRCPT">_actionRCPT</a></b>(str)
													</div>
													<div class="description"><p>Handle response for a <code>RCPT TO:</code> command</p></div>
												</td>
											</tr>
										
											<tr
												 class='item10'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionSTARTTLS">_actionSTARTTLS</a></b>(str)
													</div>
													<div class="description"><p>Handles server response for STARTTLS command.</div>
												</td>
											</tr>
										
											<tr
												 class='item11'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_actionStream">_actionStream</a></b>(str)
													</div>
													<div class="description"><p>Handle response for a <code>DATA</code> stream</p></div>
												</td>
											</tr>
										
											<tr
												 class='item12'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_authenticateUser">_authenticateUser</a></b>()
													</div>
													<div class="description"><p>If needed starts the authentication, if not emits 'idle' to
indicate that this client is ready to take in an outgoing mail</p></div>
												</td>
											</tr>
										
											<tr
												 class='item13'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_destroy">_destroy</a></b>()
													</div>
													<div class="description"><p>Destroys the client - removes listeners etc.</div>
												</td>
											</tr>
										
											<tr
												 class='item14'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_handleAuthLogin">_handleAuthLogin</a></b>(payload)
													</div>
													<div class="description"><p>Sets authorization state to "AUTHENTICATING" and reuqests for the
username and password from the client</p>

<p>If username and password are set initiate authentication
by emitting <code>'authorizeUser'</code> and waiting for its callback</p></div>
												</td>
											</tr>
										
											<tr
												 class='item15'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_handleAuthPlain">_handleAuthPlain</a></b>(payload)
													</div>
													<div class="description"><p>Detect login information from the payload and initiate authentication
by emitting <code>'authorizeUser'</code> and waiting for its callback</p></div>
												</td>
											</tr>
										
											<tr
												 class='item16'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_init">_init</a></b>()
													</div>
													<div class="description"><p>Initializes instance variables</p></div>
												</td>
											</tr>
										
											<tr
												 class='item17'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onClose">_onClose</a></b>()
													</div>
													<div class="description"><p>'close' listener for the socket</p></div>
												</td>
											</tr>
										
											<tr
												 class='item18'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onCommandAUTH">_onCommandAUTH</a></b>(payload)
													</div>
													<div class="description"><p>If the server is in secure connection mode, start the authentication
process.</div>
												</td>
											</tr>
										
											<tr
												 class='item19'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onCommandDATA">_onCommandDATA</a></b>()
													</div>
													<div class="description"><p>Switch to data mode and starts waiting for a binary data stream.</div>
												</td>
											</tr>
										
											<tr
												 class='item20'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onCommandEHLO">_onCommandEHLO</a></b>(host)
													</div>
													<div class="description"><p>Retrieve hostname from the client.</div>
												</td>
											</tr>
										
											<tr
												 class='item21'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onCommandHELO">_onCommandHELO</a></b>(host)
													</div>
													<div class="description"><p>Retrieve hostname from the client.</div>
												</td>
											</tr>
										
											<tr
												 class='item22'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onCommandMAIL">_onCommandMAIL</a></b>(mail)
													</div>
													<div class="description"><p>Initiate an e-mail by defining a sender.</div>
												</td>
											</tr>
										
											<tr
												 class='item23'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onCommandRCPT">_onCommandRCPT</a></b>(mail)
													</div>
													<div class="description"><p>Add recipients to the e-mail envelope</p>

<p>This doesn't work if <code>MAIL</code> command is not yet executed</p>

<p>If <code>validateRecipients</code> option is set to true, then emits
<code>'validateRecipient'</code> and wait for the callback before moving
on</p></div>
												</td>
											</tr>
										
											<tr
												 class='item24'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onCommandRSET">_onCommandRSET</a></b>()
													</div>
													<div class="description"><p>Resets the current state - e-mail data and authentication info</p></div>
												</td>
											</tr>
										
											<tr
												 class='item25'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onCommandSTARTTLS">_onCommandSTARTTLS</a></b>()
													</div>
													<div class="description"><p>Upgrade the connection to a secure TLS connection</p></div>
												</td>
											</tr>
										
											<tr
												 class='item26'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onConnect">_onConnect</a></b>()
													</div>
													<div class="description"><p>Connection listener that is run when the connection to 
the server is opened</p></div>
												</td>
											</tr>
										
											<tr
												 class='item27'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onData">_onData</a></b>(chunk)
													</div>
													<div class="description"><p>'data' listener for data coming from the server</p></div>
												</td>
											</tr>
										
											<tr
												 class='item28'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onEnd">_onEnd</a></b>()
													</div>
													<div class="description"><p>'end' listener for the socket</p></div>
												</td>
											</tr>
										
											<tr
												 class='item29'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_onError">_onError</a></b>(err)
													</div>
													<div class="description"><p>'error' listener for the socket</p></div>
												</td>
											</tr>
										
											<tr
												 class='item30'
											>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#_upgradeConnection">_upgradeConnection</a></b>(callback)
													</div>
													<div class="description"><p>Upgrades the connection to TLS</p></div>
												</td>
											</tr>
										
											<tr
												 class='item31'
											>
												<td class="attributes">&nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#close">close</a></b>()
													</div>
													<div class="description"><p>Closes the connection to the server</p></div>
												</td>
											</tr>
										
											<tr
												 class='item32'
											>
												<td class="attributes">&nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#connect">connect</a></b>()
													</div>
													<div class="description"><p>Creates a connection to a SMTP server and sets up connection
listener</p></div>
												</td>
											</tr>
										
											<tr
												 class='item33'
											>
												<td class="attributes">&nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#end">end</a></b>(message)
													</div>
													<div class="description"><p>Sends a message to the client and closes the connection</p></div>
												</td>
											</tr>
										
											<tr
												 class='item34'
											>
												<td class="attributes">&nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#init">init</a></b>(keepAuthData)
													</div>
													<div class="description"><p>Reset the envelope state</p>

<p>If <code>keepAuthData</code> is set to true, then doesn't remove
authentication data</p></div>
												</td>
											</tr>
										
											<tr
												 class='item35'
											>
												<td class="attributes">&nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#sendCommand">sendCommand</a></b>(str)
													</div>
													<div class="description"><p>Send a command to the server, append \r\n</p></div>
												</td>
											</tr>
										
											<tr
												 class='item36'
											>
												<td class="attributes">&nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#useEnvelope">useEnvelope</a></b>(envelope)
													</div>
													<div class="description"><p>Initiates a new message by submitting envelope data, starting with
<code>MAIL FROM:</code> command</p></div>
												</td>
											</tr>
										
											<tr
												 class='item37'
											>
												<td class="attributes">&nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#write">write</a></b>(chunk)
													</div>
													<div class="description"><p>Passes data stream to socket if in data mode</p></div>
												</td>
											</tr>
										
									</tbody>
								</table>
							</nav>
						
					
						
					</div>
				</section>
			
			
	<!--
	#### EVENTS SUMMARY
	-->
			
				
				<section>
					
						<nav>
							<div class="props">
								<table class="summaryTable" cellspacing="0" summary="A summary of the events documented in the class SMTPConnection.">
									<caption class="sectionTitle">Event Summary</caption>
									
									<thead>
										<tr>
											<th scope="col">Event Attributes</th>
											<th scope="col">Event Name and Description</th>
										</tr>
									</thead>
									
									<tbody>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#event:_onCommand">_onCommand</a></b>(command, command)
													</div>
													<div class="description"><p>Will be called when a command is received from the client</p>

<p>If there's curently an authentication process going on, route
the data to <code>_handleAuthLogin</code>, otherwise act as
defined</p></div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#event:_onData">_onData</a></b>(chunk)
													</div>
													<div class="description"><p>Emits the data received from the client with <code>'data'</code></div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#event:_onDataReady">_onDataReady</a></b>()
													</div>
													<div class="description"><p>If the data stream ends, emit <code>'dataReady'</code>and wait for
the callback.</div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#event:_onEnd">_onEnd</a></b>()
													</div>
													<div class="description"><p>Will be called when the connection to the client is closed</p></div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#event:_onError">_onError</a></b>()
													</div>
													<div class="description"><p>Will be called when an error occurs</p></div>
												</td>
											</tr>
										
											<tr>
												<td class="attributes">&lt;private&gt; &nbsp;</td>
												<td class="nameDescription">
													<div class="fixedFont"><b><a href="../symbols/SMTPConnection.html#event:_onTimeout">_onTimeout</a></b>()
													</div>
													<div class="description"><p>Will be called when timeout occurs</p></div>
												</td>
											</tr>
										
									</tbody>
								</table>
							</div>
						</nav>
					
					
					
				</section>
			
	<!--
	#### CONSTRUCTOR DETAILS
	-->
			
				<section>
					<div class="details props">
						<div class="innerProps">
							<h2 class="sectionTitle" id="constructor">
								Class Detail
							</h2>
							
							<div class="fixedFont">
								<b>SMTPConnection</b>(server, client)
							</div>
							
							<div class="description">
								<p>Sets up a handler for the connected client</p>

<p>Restarts the state and sets up event listeners for client actions</p>
								
							</div>
							
							
						
							
								<dl class="detailList params">
									<dt class="heading">Parameters:</dt>
									
										<dt>
											<span class="light fixedFont">{Object}</span>  <b>server</b>
											
										</dt>
										<dd><a href="../symbols/SMTPServer.html">SMTPServer</a> instance</dd>
									
										<dt>
											<span class="light fixedFont">{Object}</span>  <b>client</b>
											
										</dt>
										<dd>RAISocket instance for the client</dd>
									
								</dl>
							
							
							
						</div>
					</div>
				</section>
			
	<!--
	#### FIELD DETAILS
	-->
			
				<section>
					<div class="details props">
						<div class="innerProps">
							<h2 class="sectionTitle">
								Field Detail
							</h2>
							
							
								<div class="fixedFont heading" id="_connectionTimeout">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_connectionTimeout</b>							
								</div>
								
								<div class="description">
									Timeout for the connection
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="_currentAction">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_currentAction</b>							
								</div>
								
								<div class="description">
									Function to run if a data chunk comes from the server
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="_dataMode">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_dataMode</b>							
								</div>
								
								<div class="description">
									Currently in data transfer state
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="_ignoreData">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_ignoreData</b>							
								</div>
								
								<div class="description">
									Ignore incoming data on TLS negotiation
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="_lastDataBytes">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_lastDataBytes</b>							
								</div>
								
								<div class="description">
									Keep track if the client sends a leading \r\n in data mode
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="_secureMode">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_secureMode</b>							
								</div>
								
								<div class="description">
									Defines if the current connection is secure or not. If not, 
STARTTLS can be used if available
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="_supportedAuth">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_supportedAuth</b>							
								</div>
								
								<div class="description">
									Lists supported auth mechanisms
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="destroyed">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>destroyed</b>							
								</div>
								
								<div class="description">
									If set to true, then this object is no longer active
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="socket">
									<span class='lighter'>
									
									</span>
									
									
									
									<b>socket</b>							
								</div>
								
								<div class="description">
									The socket connecting to the server
									
										<br />
										<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
									
									
									
								</div>
								
								
									
								
								
							
						</div>
					</div>
				</section>
			
	<!--
	#### METHOD DETAILS
	-->		
			
				<section>
					<div class="details props">
						<div class="innerProps">
							<h2 class="sectionTitle">
								Method Detail
							</h2>
							
							<ul class="methodDetail" id="MethodDetail">
								
								
									<li 
										 class='item0'
									>
										<div class="fixedFont heading" id="_actionAUTH_LOGIN_PASS">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionAUTH_LOGIN_PASS</b>(str)
										</div>
										
										<div class="description">
											<p>Handle the response for AUTH LOGIN command. We are expecting
'334 UGFzc3dvcmQ6' (base64 for 'Password:'). Data to be sent as
response needs to be base64 encoded password.</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item1'
									>
										<div class="fixedFont heading" id="_actionAUTH_LOGIN_USER">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionAUTH_LOGIN_USER</b>(str)
										</div>
										
										<div class="description">
											<p>Handle the response for AUTH LOGIN command. We are expecting
'334 VXNlcm5hbWU6' (base64 for 'Username:'). Data to be sent as
response needs to be base64 encoded username.</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item2'
									>
										<div class="fixedFont heading" id="_actionAUTHComplete">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionAUTHComplete</b>(str)
										</div>
										
										<div class="description">
											<p>Handles the response for authentication, if there's no error,
the user can be considered logged in. Emit 'idle' and start
waiting for a message to send</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item3'
									>
										<div class="fixedFont heading" id="_actionDATA">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionDATA</b>(str)
										</div>
										
										<div class="description">
											<p>Handle response for a <code>DATA</code> command</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item4'
									>
										<div class="fixedFont heading" id="_actionEHLO">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionEHLO</b>(str)
										</div>
										
										<div class="description">
											<p>Handles server response for EHLO command. If it yielded in
error, try HELO instead, otherwise initiate TLS negotiation
if STARTTLS is supported by the server or move into the
authentication phase.</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item5'
									>
										<div class="fixedFont heading" id="_actionGreeting">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionGreeting</b>(str)
										</div>
										
										<div class="description">
											<p>Will be run after the connection is created and the server sends
a greeting. If the incoming message starts with 220 initiate
SMTP session by sending EHLO command</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item6'
									>
										<div class="fixedFont heading" id="_actionHELO">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionHELO</b>(str)
										</div>
										
										<div class="description">
											<p>Handles server response for HELO command. If it yielded in
error, emit 'error', otherwise move into the authentication phase.</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item7'
									>
										<div class="fixedFont heading" id="_actionIdle">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionIdle</b>(str)
										</div>
										
										<div class="description">
											<p>This function is not expected to run. If it does then there's probably
an error (timeout etc.)</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item8'
									>
										<div class="fixedFont heading" id="_actionMAIL">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionMAIL</b>(str)
										</div>
										
										<div class="description">
											<p>Handle response for a <code>MAIL FROM:</code> command</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item9'
									>
										<div class="fixedFont heading" id="_actionRCPT">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionRCPT</b>(str)
										</div>
										
										<div class="description">
											<p>Handle response for a <code>RCPT TO:</code> command</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item10'
									>
										<div class="fixedFont heading" id="_actionSTARTTLS">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionSTARTTLS</b>(str)
										</div>
										
										<div class="description">
											<p>Handles server response for STARTTLS command. If there's an error
try HELO instead, otherwise initiate TLS upgrade. If the upgrade
succeedes restart the EHLO</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item11'
									>
										<div class="fixedFont heading" id="_actionStream">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_actionStream</b>(str)
										</div>
										
										<div class="description">
											<p>Handle response for a <code>DATA</code> stream</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>Message from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item12'
									>
										<div class="fixedFont heading" id="_authenticateUser">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_authenticateUser</b>()
										</div>
										
										<div class="description">
											<p>If needed starts the authentication, if not emits 'idle' to
indicate that this client is ready to take in an outgoing mail</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item13'
									>
										<div class="fixedFont heading" id="_destroy">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_destroy</b>()
										</div>
										
										<div class="description">
											<p>Destroys the client - removes listeners etc.</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item14'
									>
										<div class="fixedFont heading" id="_handleAuthLogin">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_handleAuthLogin</b>(payload)
										</div>
										
										<div class="description">
											<p>Sets authorization state to "AUTHENTICATING" and reuqests for the
username and password from the client</p>

<p>If username and password are set initiate authentication
by emitting <code>'authorizeUser'</code> and waiting for its callback</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Buffer}</span> <b>payload</b>
														
													</dt>
													<dd>AUTH LOGIN login information</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item15'
									>
										<div class="fixedFont heading" id="_handleAuthPlain">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_handleAuthPlain</b>(payload)
										</div>
										
										<div class="description">
											<p>Detect login information from the payload and initiate authentication
by emitting <code>'authorizeUser'</code> and waiting for its callback</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Buffer}</span> <b>payload</b>
														
													</dt>
													<dd>AUTH PLAIN login information</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item16'
									>
										<div class="fixedFont heading" id="_init">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_init</b>()
										</div>
										
										<div class="description">
											<p>Initializes instance variables</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item17'
									>
										<div class="fixedFont heading" id="_onClose">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onClose</b>()
										</div>
										
										<div class="description">
											<p>'close' listener for the socket</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item18'
									>
										<div class="fixedFont heading" id="_onCommandAUTH">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onCommandAUTH</b>(payload)
										</div>
										
										<div class="description">
											<p>If the server is in secure connection mode, start the authentication
process. Param <code>payload</code> defines the authentication mechanism.</p>

<p>Currently supported - PLAIN and LOGIN. There is no need for more
complicated mechanisms (different CRAM versions etc.) since authentication
is only done in secure connection mode</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Buffer}</span> <b>payload</b>
														
													</dt>
													<dd>Defines the authentication mechanism</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item19'
									>
										<div class="fixedFont heading" id="_onCommandDATA">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onCommandDATA</b>()
										</div>
										
										<div class="description">
											<p>Switch to data mode and starts waiting for a binary data stream. Emits
<code>'startData'</code>.</p>

<p>If <code>RCPT</code> is not yet run, stop</p>
											
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item20'
									>
										<div class="fixedFont heading" id="_onCommandEHLO">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onCommandEHLO</b>(host)
										</div>
										
										<div class="description">
											<p>Retrieve hostname from the client. Not very important, since client
IP is already known and the client can send fake data</p>

<p>Additionally displays server capability list to the client</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>host</b>
														
													</dt>
													<dd>Hostname of the client</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item21'
									>
										<div class="fixedFont heading" id="_onCommandHELO">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onCommandHELO</b>(host)
										</div>
										
										<div class="description">
											<p>Retrieve hostname from the client. Not very important, since client
IP is already known and the client can send fake data</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>host</b>
														
													</dt>
													<dd>Hostname of the client</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item22'
									>
										<div class="fixedFont heading" id="_onCommandMAIL">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onCommandMAIL</b>(mail)
										</div>
										
										<div class="description">
											<p>Initiate an e-mail by defining a sender.</p>

<p>This doesn't work if authorization is required but the client is
not logged in yet.</p>

<p>If <code>validateSender</code> option is set to true, then emits
<code>'validateSender'</code> and wait for the callback before moving
on</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>mail</b>
														
													</dt>
													<dd>Address payload in the form of "FROM:&lt;address&gt;"</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item23'
									>
										<div class="fixedFont heading" id="_onCommandRCPT">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onCommandRCPT</b>(mail)
										</div>
										
										<div class="description">
											<p>Add recipients to the e-mail envelope</p>

<p>This doesn't work if <code>MAIL</code> command is not yet executed</p>

<p>If <code>validateRecipients</code> option is set to true, then emits
<code>'validateRecipient'</code> and wait for the callback before moving
on</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>mail</b>
														
													</dt>
													<dd>Address payload in the form of "TO:&lt;address&gt;"</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item24'
									>
										<div class="fixedFont heading" id="_onCommandRSET">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onCommandRSET</b>()
										</div>
										
										<div class="description">
											<p>Resets the current state - e-mail data and authentication info</p>
											
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item25'
									>
										<div class="fixedFont heading" id="_onCommandSTARTTLS">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onCommandSTARTTLS</b>()
										</div>
										
										<div class="description">
											<p>Upgrade the connection to a secure TLS connection</p>
											
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item26'
									>
										<div class="fixedFont heading" id="_onConnect">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onConnect</b>()
										</div>
										
										<div class="description">
											<p>Connection listener that is run when the connection to 
the server is opened</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item27'
									>
										<div class="fixedFont heading" id="_onData">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onData</b>(chunk)
										</div>
										
										<div class="description">
											<p>'data' listener for data coming from the server</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Buffer}</span> <b>chunk</b>
														
													</dt>
													<dd>Data chunk coming from the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item28'
									>
										<div class="fixedFont heading" id="_onEnd">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onEnd</b>()
										</div>
										
										<div class="description">
											<p>'end' listener for the socket</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item29'
									>
										<div class="fixedFont heading" id="_onError">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_onError</b>(err)
										</div>
										
										<div class="description">
											<p>'error' listener for the socket</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Error}</span> <b>err</b>
														
													</dt>
													<dd>Error object</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item30'
									>
										<div class="fixedFont heading" id="_upgradeConnection">
											<span class='lighter'>
											&lt;private&gt; 
											</span>
											
											
											
											<b>_upgradeConnection</b>(callback)
										</div>
										
										<div class="description">
											<p>Upgrades the connection to TLS</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Function}</span> <b>callback</b>
														
													</dt>
													<dd>Callback function to run when the connection
       has been secured</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item31'
									>
										<div class="fixedFont heading" id="close">
											<span class='lighter'>
											
											</span>
											
											
											
											<b>close</b>()
										</div>
										
										<div class="description">
											<p>Closes the connection to the server</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item32'
									>
										<div class="fixedFont heading" id="connect">
											<span class='lighter'>
											
											</span>
											
											
											
											<b>connect</b>()
										</div>
										
										<div class="description">
											<p>Creates a connection to a SMTP server and sets up connection
listener</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item33'
									>
										<div class="fixedFont heading" id="end">
											<span class='lighter'>
											
											</span>
											
											
											
											<b>end</b>(message)
										</div>
										
										<div class="description">
											<p>Sends a message to the client and closes the connection</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>message</b>
														<i>Optional</i>
													</dt>
													<dd>if set, send it to the client before disconnecting</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item34'
									>
										<div class="fixedFont heading" id="init">
											<span class='lighter'>
											
											</span>
											
											
											
											<b>init</b>(keepAuthData)
										</div>
										
										<div class="description">
											<p>Reset the envelope state</p>

<p>If <code>keepAuthData</code> is set to true, then doesn't remove
authentication data</p>
											
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Boolean}</span> <b>keepAuthData</b>
														<i>Optional, Default: false</i>
													</dt>
													<dd>If set to true keep authentication data</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item35'
									>
										<div class="fixedFont heading" id="sendCommand">
											<span class='lighter'>
											
											</span>
											
											
											
											<b>sendCommand</b>(str)
										</div>
										
										<div class="description">
											<p>Send a command to the server, append \r\n</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{String}</span> <b>str</b>
														
													</dt>
													<dd>String to be sent to the server</dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item36'
									>
										<div class="fixedFont heading" id="useEnvelope">
											<span class='lighter'>
											
											</span>
											
											
											
											<b>useEnvelope</b>(envelope)
										</div>
										
										<div class="description">
											<p>Initiates a new message by submitting envelope data, starting with
<code>MAIL FROM:</code> command</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Object}</span> <b>envelope</b>
														
													</dt>
													<dd>Envelope object in the form of 
       <code>{from:"...", to:["..."]}</code></dd>
												
											</dl>
										
										
										
										<div class="hr"></div>
									</li>
								
									<li 
										 class='item37'
									>
										<div class="fixedFont heading" id="write">
											<span class='lighter'>
											
											</span>
											
											
											
											<b>write</b>(chunk)
										</div>
										
										<div class="description">
											<p>Passes data stream to socket if in data mode</p>
											
											
												<br />
												<i>Defined in: </i> <a href="../symbols/src/SMTP_lib_client.js.html">client.js</a>.
											
											
											
										</div>
										
										
										
										
											<dl class="detailList params">
												<dt class="heading">Parameters:</dt>
												
													<dt>
														<span class="light fixedFont">{Buffer}</span> <b>chunk</b>
														
													</dt>
													<dd>Chunk of data to be sent to the server</dd>
												
											</dl>
										
										
										
										
									</li>
								
							</ul>
						</div>
					</div>
				</section>
			
			
	<!--
	#### EVENT DETAILS
	-->		
			
				<section>
					<div class="details props">
						<div class="innerProps">
							<h2 class="sectionTitle">
								Event Detail
							</h2>
							
							
								<div class="fixedFont heading" id="event:_onCommand">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_onCommand</b>(command, command)
								</div>
								
								<div class="description">
									<p>Will be called when a command is received from the client</p>

<p>If there's curently an authentication process going on, route
the data to <code>_handleAuthLogin</code>, otherwise act as
defined</p>
									
									
									
									
								</div>
								
								
								
								
									<dl class="detailList params">
										<dt class="heading">Parameters:</dt>
										
											<dt>
												<span class="light fixedFont">{String}</span> <b>command</b>
												
											</dt>
											<dd>Command</dd>
										
											<dt>
												<span class="light fixedFont">{Buffer}</span> <b>command</b>
												
											</dt>
											<dd>Payload related to the command</dd>
										
									</dl>
								
								
								
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="event:_onData">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_onData</b>(chunk)
								</div>
								
								<div class="description">
									<p>Emits the data received from the client with <code>'data'</code>
									
									
									
									
								</div>
								
								
								
								
									<dl class="detailList params">
										<dt class="heading">Parameters:</dt>
										
											<dt>
												<span class="light fixedFont">{Buffer}</span> <b>chunk</b>
												
											</dt>
											<dd>Binary data sent by the client on data mode</dd>
										
									</dl>
								
								
								
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="event:_onDataReady">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_onDataReady</b>()
								</div>
								
								<div class="description">
									<p>If the data stream ends, emit <code>'dataReady'</code>and wait for
the callback.</p>
									
									
									
									
								</div>
								
								
								
								
								
								
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="event:_onEnd">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_onEnd</b>()
								</div>
								
								<div class="description">
									<p>Will be called when the connection to the client is closed</p>
									
									
									
									
								</div>
								
								
								
								
								
								
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="event:_onError">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_onError</b>()
								</div>
								
								<div class="description">
									<p>Will be called when an error occurs</p>
									
									
									
									
								</div>
								
								
								
								
								
								
								
								<div class="hr"></div>
							
								<div class="fixedFont heading" id="event:_onTimeout">
									<span class='lighter'>
									&lt;private&gt; 
									</span>
									
									
									
									<b>_onTimeout</b>()
								</div>
								
								<div class="description">
									<p>Will be called when timeout occurs</p>
									
									
									
									
								</div>
								
								
								
								
								
								
								
								
							
						</div>
					</div>
				</section>
			
		</article>
	</div>
</div>

		<script type="text/javascript">
			wbos.CssTools.MediaQueryFallBack.LoadCss('../css/screen.css', '../css/handheld.css', 660)
			codeview.classFilter.Init()
		</script>
	</body>
</html>

